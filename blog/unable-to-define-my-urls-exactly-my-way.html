<!DOCTYPE html>
<html lang="en">
<head>
          <title>datapythonista blog - Unable to define my urls exactly my way (resignation statement)</title>
        <meta charset="utf-8" />
        <link href="https://datapythonista.github.io/blog/atom.xml" type="application/atom+xml" rel="alternate" title="datapythonista blog Full Atom Feed" />




    <meta name="tags" content="Applications" />
    <meta name="tags" content="Django" />
    <meta name="tags" content="IT" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://datapythonista.github.io/blog/">datapythonista blog <strong>about me</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="https://datapythonista.github.io/blog/category/misc.html">misc</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://datapythonista.github.io/blog/unable-to-define-my-urls-exactly-my-way.html" rel="bookmark"
         title="Permalink to Unable to define my urls exactly my way (resignation statement)">Unable to define my urls exactly my way (resignation statement)</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2008-05-09T19:44:00+01:00">
      Fri 09 May 2008
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://datapythonista.github.io/blog/author/marc.html">Marc</a>
    </address>
    <div class="category">
        Category: <a href="https://datapythonista.github.io/blog/category/misc.html">misc</a>
    </div>
    <div class="tags">
        Tags:
            <a href="https://datapythonista.github.io/blog/tag/applications.html">Applications</a>
            <a href="https://datapythonista.github.io/blog/tag/django.html">Django</a>
            <a href="https://datapythonista.github.io/blog/tag/it.html">IT</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>I've been working with Django for a while, and it helped me to get all my web developments with nice urls. But I also wanted a nice url structure...<br/><br/>What it is nice for me, opposite to Django default settings, is avoiding the media prefix on my media urls, so<br/><br/>http://localhost/media/admin/css/login.css would be http://localhost/admin/css/login.cssTrying to emulate old website structures (used widely in php sites).<br/><br/>That could be nice or not, but for sure it is complicated.<br/><br/>The first step was to setup apache for it, a little bit more complicated than the usual setup, but possible:<br/><br/><LocationMatch "/((css|js|img|swf|pdf)/|favicon.ico)"><br/>SetHandler None<br/></LocationMatch><br/><br/>The main problem comes when using Django development http server (started by "python manage.py runserver"), and the admin. Of course you can do that, but what is not possible, is to define the same name for your admin media path, and for the admin itself.<br/><br/>For example:<br/><br/>http://localhost/admin and http://localhost/admin/css/login.css<br/><br/>The reason is the Django web server, processes all requests starting with the ADMIN_MEDIA_PREFIX setting with the AdminMediaHandler, what implies with that structure that all admin requests (even the ones that aren't static files) are processed by this handler, raising an error when the request isn't for a static file. The error is next.<br/><br/>Permission denied: ${PYTHON_PATH}/django/contrib/admin/media/<br/><br/>So this is my resignation statement to do what I wanted to do initially. Now, options are:<br/>- <br/>   <li>Don't use the Django http server (use apache even for development)</li><br/>    <li>Keep the same structure but change the admin media directory (for example from "admin" to "admin-media"</li><br/>   <li>Use the "media" (or any other name) prefix</li><br/>
<br/><strong>NOTE:</strong> Current version of my project DSNP is affected by this issue. I'll solve it asap.</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>