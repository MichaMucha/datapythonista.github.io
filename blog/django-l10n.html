<!DOCTYPE html>
<html lang="en">
<head>
          <title>datapythonista blog - Django L10n</title>
        <meta charset="utf-8" />
        <link href="https://datapythonista.github.io/blog/atom.xml" type="application/atom+xml" rel="alternate" title="datapythonista blog Full Atom Feed" />




    <meta name="tags" content="Applications" />
    <meta name="tags" content="Django" />
    <meta name="tags" content="IT" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://datapythonista.github.io/blog/">datapythonista blog <strong>about me</strong></a></h1>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
            <li class="active"><a href="https://datapythonista.github.io/blog/category/misc.html">misc</a></li>
        </ul></nav><!-- /#menu -->
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://datapythonista.github.io/blog/django-l10n.html" rel="bookmark"
         title="Permalink to Django L10n">Django L10n</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2008-04-29T02:22:00+01:00">
      Tue 29 April 2008
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="https://datapythonista.github.io/blog/author/marc.html">Marc</a>
    </address>
    <div class="category">
        Category: <a href="https://datapythonista.github.io/blog/category/misc.html">misc</a>
    </div>
    <div class="tags">
        Tags:
            <a href="https://datapythonista.github.io/blog/tag/applications.html">Applications</a>
            <a href="https://datapythonista.github.io/blog/tag/django.html">Django</a>
            <a href="https://datapythonista.github.io/blog/tag/it.html">IT</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>This Sunday, I participated in <a href="http://blog.michaeltrier.com/2008/4/28/this-week-in-django-20-2008-04-27">This Week in Django</a>, and tried to give some ideas on Django localization.<br/><br/>Here I'll post some of the ideas of the interview (and some that I missed), for serving as reference:<br/><br/><strong>How to translate your application (quick guide):</strong><br/>- <br/>  <li>Mark every text in your application for translation:<br/><ul><br/>  <li>In models.py, views.py... convert  <em>'my text in just one language'</em> to <em><em>('my text to translate')</em>. Don't forget to import </em>: f<em>rom django.utils.translation import ugettext_lazy as _</em></li><br/>  <li>In templates, convert <em><p>Text in english</p></em> to <em><p>{% trans 'Text in many languages' %}</p></em> (also this can be done with blocktrans tag)</li><br/>
<br/></li><br/> <li>Go to your project path and create a directory called locale (also you can do that just for an application)</li><br/>   <li>Execute ${PATH_TO_DJANGO}/bin/make-messages -l ${LANGUAGE_CODE} (where language code is en for english, es for spanish...)</li><br/>    <li>Edit ${PROJECT_PATH}/locale/${LANGUAGE_CODE}/LC_MESSAGES/django.po and set the <em>msgstr</em> variables with the translation of every <em>msgid</em></li><br/> <li>Run msgfmt django.po -o django.mo (I just realized after the interview that exists a django script complie-messages.py that does that for all .po files)</li><br/>  <li>And then you have your application translated. There are some settings in settings.py that need to be set for making it work (USE_I18N = True, set LANGUAGES and LANGUAGE_CODE, and specify the django.middleware.locale.LocaleMiddleware middleware)</li><br/> <li>Then probably you'll want to have your select input with all available languages (or something like that). For it you'll have to add <em>(r'^i18n/', include('django.conf.urls.i18n'))</em> to your urls.py, and from your html send a POST request to <em>/i18n/setlang</em> with the parameter <em>language</em> set to desired language code</li><br/>   <li>For more stuff, and detailed information check: <a href="http://www.djangoproject.com/documentation/i18n/">http://www.djangoproject.com/documentation/i18n/</a></li><br/></ul><br/><strong>Things that IMHO should be improved in Django for a better L10n expirience:</strong><br/>- <br/>    <li>Move localflavors outside trunk (to avoid unnecessary translation costs). Every localflavor should come with necessary translations.</li><br/>  <li>Create locale settings (besides translations), to set decimal symbol, date and time format, first day of week... and use it automatically for current locale/language.<br/><ul><br/>    <li>Check tickets <a href="http://code.djangoproject.com/ticket/1061">#1061</a>, <a href="http://code.djangoproject.com/ticket/3940">#3940</a> and <a href="http://code.djangoproject.com/ticket/6783">#6783</a> that gives different approaches to this problem.</li><br/>
<br/></li><br/> <li>Create translatable CharFields and TextFields. For now <a href="http://code.google.com/p/django-multilingual/">django-multilingual</a> and <a href="http://code.google.com/p/transdb/">transdb</a> can be used for it.</li><br/>  <li>Adding something to select the language in admin (when more than one is available).</li><br/>   <li>Haven't checked it too much, but it'll be good if urls could be translated as well.</li><br/></ul><br/>Finally I want to thank for letting me participate in TWID to <a href="http://blog.michaeltrier.com">Michael Trier</a>, who is a father, husband, software architect, entrepreneur, a great journalist, and a better person. And also to <a href="http://www.pointy-stick.com/blog/">Malcolm Tredinnick</a>, who recommended me to the show (not sure if I deserved the honour), and for his unpayable help and support on my Django work.</p>
  </div><!-- /.entry-content -->
</section>
        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->
</body>
</html>